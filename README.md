# AI NPC Generator

## Live demo =>
https://npc-winners.onrender.com/

A React-based web application that allows you to create AI-powered NPCs (Non-Player Characters) and engage in dynamic conversations with them. The app features advanced AI dialogue generation, text-to-speech capabilities, and an arena mode for NPC conversations.

## üåü Features

### üé≠ NPC Creation
- **Dynamic Character Generation**: Create unique NPCs with custom names, races, professions, and personalities
- **AI-Powered Backstories**: Each NPC gets a detailed background story generated by AI
- **Persistent Storage**: All NPCs are saved to Firebase Firestore for easy access

### üí¨ Chat with NPCs
- **Intelligent Conversations**: Engage in natural conversations with AI-generated responses
- **Context Awareness**: NPCs remember conversation context and respond accordingly
- **Dialogue Options**: Choose from multiple conversation paths (diplomatic, aggressive, neutral)
- **Important Moments**: AI detects and highlights crucial conversation moments
- **Text-to-Speech**: Listen to NPC responses with ElevenLabs TTS integration

### üèüÔ∏è NPC Arena
- **NPC vs NPC Conversations**: Watch two AI NPCs engage in dynamic conversations
- **Topic Selection**: Choose conversation topics for NPCs to discuss
- **Real-time Generation**: Conversations are generated in real-time with AI
- **TTS Support**: Enable/disable text-to-speech for arena conversations

### üåê Translation Support
- **Multi-language**: Translate conversations to different languages
- **Real-time Translation**: Instantly translate NPC responses

## üöÄ Getting Started

### Prerequisites
- Node.js (v14 or higher)
- npm or yarn
- Firebase account
- Google AI (Gemini) API key
- ElevenLabs API key (optional, for TTS)

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd qwert
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   Create a `.env` file in the root directory:
   ```env
   REACT_APP_GEMINI_API_KEY=your_gemini_api_key_here
   REACT_APP_ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
   ```

4. **Configure Firebase**
   - Go to [Firebase Console](https://console.firebase.google.com/)
   - Create a new project
   - Enable Firestore Database
   - Get your Firebase config and update `src/firebase.js`
   
   **Firebase Setup Steps:**
   1. Create a new Firebase project
   2. Go to Project Settings ‚Üí General
   3. Scroll down to "Your apps" section
   4. Click "Add app" ‚Üí Web app
   5. Register your app with a nickname (e.g., "ai-npc-generator")
   6. Copy the Firebase config object
   7. Update `src/firebase.js` with your config:
   
   ```javascript
   const firebaseConfig = {
     apiKey: "your-api-key",
     authDomain: "your-project-id.firebaseapp.com",
     projectId: "your-project-id",
     storageBucket: "your-project-id.appspot.com",
     messagingSenderId: "your-messaging-sender-id",
     appId: "your-app-id"
   };
   ```
   
   **Enable Firestore Database:**
   1. Go to Firestore Database in Firebase Console
   2. Click "Create database"
   3. Choose "Start in test mode" (for development)
   4. Select a location for your database
   5. Click "Done"

5. **Start the development server**
   ```bash
   npm start
   ```

## üîë API Keys Setup

### Google AI (Gemini) API Key
1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy the generated key
5. Add it to your `.env` file as `REACT_APP_GEMINI_API_KEY`

### ElevenLabs API Key (Optional - for TTS)
1. Visit [ElevenLabs](https://elevenlabs.io/)
2. Create an account
3. Go to your profile settings
4. Copy your API key
5. Add it to your `.env` file as `REACT_APP_ELEVENLABS_API_KEY`

## üìñ How to Use

### Creating NPCs
1. Navigate to the "Create New NPC" page
2. Fill in the basic information:
   - **Name**: The NPC's name
   - **Race**: Their species/race (e.g., Human, Elf, Dwarf)
   - **Profession**: Their occupation or role
   - **Personality**: A brief description of their character
3. Click "Generate NPC" to create the character
4. The AI will generate a detailed backstory and personality traits

### Chatting with NPCs
1. Go to the "Chat with NPCs" page
2. Select an NPC from the list
3. Start typing your message in the input field
4. Choose from dialogue options when presented
5. Use the TTS button to hear NPC responses (if TTS is enabled)
6. Navigate different conversation paths based on your choices

### Using the NPC Arena
1. Navigate to the "NPC Arena" page
2. Select two different NPCs from the dropdown menus
3. Choose a conversation topic
4. Click "Start Conversation" to begin
5. Watch as the NPCs engage in dynamic dialogue
6. Use "Continue" to generate more conversation
7. Toggle TTS on/off to hear the conversations

## üé® Features in Detail

### AI-Powered Dialogue Generation
- Uses Google's Gemini AI for natural conversation generation
- Context-aware responses that maintain character consistency
- Dynamic dialogue options based on conversation flow
- Personality-driven responses that match each NPC's traits

### Conversation Paths
- **Diplomatic**: Friendly, cooperative approach
- **Aggressive**: Confrontational, challenging approach  
- **Neutral**: Balanced, objective approach
- Each path affects how NPCs respond and the conversation direction

### Important Moments Detection
- AI automatically detects crucial conversation points
- Highlights significant dialogue choices
- Provides special options during important moments
- Tracks conversation progression and branching paths

### Text-to-Speech Integration
- High-quality voice synthesis with ElevenLabs
- Multiple voice options for different NPCs
- Real-time audio generation
- Toggle on/off for individual messages or entire conversations

### Firebase Integration
- Secure data storage with Firestore
- Real-time synchronization across devices
- Persistent NPC profiles and conversation history
- Scalable cloud-based architecture

## üõ†Ô∏è Technical Stack

- **Frontend**: React.js with modern hooks
- **Styling**: CSS3 with custom dark theme
- **AI Services**: Google Gemini API
- **TTS**: ElevenLabs API
- **Database**: Firebase Firestore
- **Deployment**: Render (or any static hosting)

## üöÄ Deployment

### Local Development
```bash
npm start
```

### Production Build
```bash
npm run build
```

### Deploy to Render
1. Connect your GitHub repository to Render
2. Set build command: `npm install - g serve && npm run build`
3. Set start command: `serve -s build`
4. Add environment variables in Render dashboard
5. Deploy!

## üîß Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `REACT_APP_GEMINI_API_KEY` | Google AI API key for dialogue generation | Yes |
| `REACT_APP_ELEVENLABS_API_KEY` | ElevenLabs API key for TTS | No |

## üî• Firebase Configuration

### Firestore Security Rules
Create a `firestore.rules` file in your project root:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read/write access to all documents for development
    // In production, implement proper authentication
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

### Deploy Firestore Rules
```bash
# Install Firebase CLI globally
npm install -g firebase-tools

# Login to Firebase
firebase login

# Initialize Firebase in your project
firebase init firestore

# Deploy Firestore rules
firebase deploy --only firestore:rules
```

### Firebase Project Structure
Your Firestore database will automatically create these collections:
- `npcs` - Stores all NPC profiles
- `conversations` - Stores chat conversations
- `arena-conversations` - Stores arena mode conversations

## üì± Browser Compatibility

- Chrome (recommended)
- Firefox
- Safari
- Edge

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## üìÑ License

This project is licensed under the MIT License.

## üÜò Troubleshooting

### Common Issues

**API Key Errors**
- Ensure your API keys are correctly set in the `.env` file
- Check that the keys are valid and have proper permissions
- Restart the development server after adding new environment variables

**Firebase Connection Issues**
- Verify your Firebase configuration in `src/firebase.js`
- Ensure Firestore is enabled in your Firebase project
- Check that your Firebase rules allow read/write operations
- Make sure you're using the correct project ID
- Verify your API key has the necessary permissions
- Check Firebase Console for any quota limits or billing issues

**TTS Not Working**
- Verify your ElevenLabs API key is correct
- Check your ElevenLabs account has available credits
- Ensure your browser supports audio playback

**Build Errors**
- Clear node_modules and reinstall: `rm -rf node_modules && npm install`
- Check for any missing dependencies
- Ensure all environment variables are set

## üìû Support

For issues and questions:
- Check the troubleshooting section above
- Review the Firebase and API documentation
- Open an issue on GitHub

## üí∞ Firebase Free Plan (Spark Plan)

This application is designed to work with Firebase's free Spark plan:

### **Included Features:**
- ‚úÖ **Firestore Database**: 1GB storage, 50K reads/day, 20K writes/day
- ‚úÖ **Firebase Hosting**: 10GB storage, 360MB/day transfer
- ‚úÖ **Authentication**: 10K users/month
- ‚úÖ **No Functions needed**: AI calls made directly from frontend

### **Usage Limits:**
- **Daily Reads**: 50,000 document reads
- **Daily Writes**: 20,000 document writes
- **Storage**: 1GB total storage
- **Bandwidth**: 10GB/month

### **Cost Optimization:**
- NPCs are stored efficiently with minimal data
- Conversations are optimized for storage
- No server-side processing required
- All AI calls go directly to Google Gemini API

---

**Enjoy creating and chatting with your AI NPCs! üéÆ‚ú®** 